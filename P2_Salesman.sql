DROP TABLE SALESMAN;
CREATE TABLE SALESMAN( SALESID NUMBER(5) PRIMARY KEY, SNAME VARCHAR(20) , SCITY VARCHAR(15) , SCOMMISSION NUMBER(5));

INSERT INTO SALESMAN VALUES (1,'BHARATHESH','MANGLORE' , 10.5);
INSERT INTO SALESMAN VALUES (2,'BHARATH','MANGLORE' , 11);
INSERT INTO SALESMAN VALUES (3,'SHALESH','MANGLORE' , 12);
INSERT INTO SALESMAN VALUES (4,'GAMAN','BANGALORE' , 13.5);
INSERT INTO SALESMAN VALUES (5,'SINDOOR','MUMBAI' , 15);
INSERT INTO SALESMAN VALUES (1000,'HARISHA','KUNDAPUR' , 20);

SELECT * FROM SALESMAN ;

CREATE TABLE CUSTOMER( CID NUMBER(5) PRIMARY KEY , CNAME VARCHAR(15) , CCITY VARCHAR(20) , CGRADE VARCHAR(5) , SID REFERENCES SALESMAN ON DELETE CASCADE);

DESC CUSTOMER;

INSERT INTO CUSTOMER VALUES (1,'BHARATHESH','MANGALORE',3,1);
INSERT INTO CUSTOMER VALUES (2,'AKHIL','BANGALORE',3,1);
INSERT INTO CUSTOMER VALUES (3,'AJITH','MANGALOR',3,2);
INSERT INTO CUSTOMER VALUES (4,'ABHIJITH','BANGALORE',4,2);
INSERT INTO CUSTOMER VALUES (5,'PUSHPA','BANGALORE',3,5);
INSERT INTO CUSTOMER VALUES (6,'MAMTHA','BANGALORE',3,5);
INSERT INTO CUSTOMER VALUES (7,'SADHANA','MANGALORE',4,1000);

SELECT * FROM CUSTOMER;

UPDATE CUSTOMER 
SET CCITY='MANGALORE'
WHERE CID=3;


CREATE TABLE ORDERS(
ORDERID NUMBER(5) PRIMARY KEY,
PURCHASE_AMT NUMBER(5) ,
ORD_DATE DATE ,
CUSTOMER_ID REFERENCES CUSTOMER(CID) ON DELETE CASCADE,
SALESMAN_ID REFERENCES SALESMAN(SALESID) ON DELETE CASCADE
);
desc orders;

INSERT INTO ORDERS(ORDERID,ORD_DATE,PURCHASE_AMT,CUSTOMER_ID,SALESMAN_ID) VALUES( 1,'05-10-17',1500,1,1);
INSERT INTO ORDERS(ORDERID,ORD_DATE,PURCHASE_AMT,CUSTOMER_ID,SALESMAN_ID) VALUES( 2,'06-10-17',1600,1,2);
INSERT INTO ORDERS(ORDERID,ORD_DATE,PURCHASE_AMT,CUSTOMER_ID,SALESMAN_ID) VALUES( 3,'07-10-17',3500,1,1);
INSERT INTO ORDERS(ORDERID,ORD_DATE,PURCHASE_AMT,CUSTOMER_ID,SALESMAN_ID) VALUES( 4,'07-10-17',4600,2,2);
INSERT INTO ORDERS(ORDERID,ORD_DATE,PURCHASE_AMT,CUSTOMER_ID,SALESMAN_ID) VALUES( 5,'11-10-17',5200,2,3);
INSERT INTO ORDERS(ORDERID,ORD_DATE,PURCHASE_AMT,CUSTOMER_ID,SALESMAN_ID) VALUES( 6,'11-10-17',3000,3,3);
INSERT INTO ORDERS(ORDERID,ORD_DATE,PURCHASE_AMT,CUSTOMER_ID,SALESMAN_ID) VALUES( 7,'11-10-17',4000,3,3);
INSERT INTO ORDERS(ORDERID,ORD_DATE,PURCHASE_AMT,CUSTOMER_ID,SALESMAN_ID) VALUES( 100,'22-11-17',4000,3,1000);

SELECT * FROM ORDERS;

SELECT * FROM CUSTOMER;
SELECT * FROM SALESMAN;


SELECT COUNT(CID) "CUSTOMERS WITH GRADE > BANGLORES AVG" FROM CUSTOMER WHERE CGRADE > (SELECT AVG(CGRADE) FROM CUSTOMER WHERE CCITY='BANGALORE');

SELECT NAME , COUNT(SALESID) FROM SALESMAN FROM SALESMAN , CUSTOMER 
WHERE

